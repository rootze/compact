% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/AlertSystemScore.R
\name{.compute_alert_metrics}
\alias{.compute_alert_metrics}
\title{Compute concordance and robustness metrics for AlertSystem}
\usage{
.compute_alert_metrics(
  seurat_obj,
  score_pattern = "_logFC$",
  group.by = NULL,
  fun = c("mean", "median"),
  compute_concordance = TRUE,
  compute_robustness = TRUE,
  robust_effect_thresh = 0,
  base_tag = NULL,
  pert_tag = NULL
)
}
\description{
For each group × pathway (logFC column) this computes:
\itemize{
\item effect    : mean or median logFC (matching \code{fun})
\item concordance : fraction of cells whose logFC sign matches the group effect sign
\item robust_gt_thresh : fraction of cells whose logFC is both:
(i) above the magnitude threshold (|logFC| ≥ robust_effect_thresh) and
(ii) has the same sign as the group-level effect.
}
}
\details{
This replaces the previous bootstrap-based credibility metric, which tended to
saturate at 0/1 for large cell numbers. Robustness is now defined directly
from the per-cell logFC distribution.
}
\keyword{internal}
